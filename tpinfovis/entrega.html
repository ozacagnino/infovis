<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mi año en gastos — Historia visual interactiva</title>
  <style>
    :root{
      --bg: #0b1020;
      --panel: #0f1833;
      --ink: #e8ecf7;
      --ink-dim:#b9c0d4;
      --brand: #7c9cff;
      --brand-2:#6ee7b7;
      --accent:#f59e0b;
      --radius: 18px;
      --maxw: 1200px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--ink);
      background: radial-gradient(1200px 600px at 10% -10%, #1a2550 0%, transparent 60%),
                  radial-gradient(900px 500px at 100% 0%, #0e6a69 0%, transparent 60%),
                  linear-gradient(180deg, #0b1020, #0a0f1f 60%, #0b1020);
      font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, sans-serif;
    }
    .wrap{max-width:var(--maxw); margin:0 auto; padding:24px}
    header{ text-align:center; margin: 18px auto 22px; }
    h1{
      font-size: clamp(28px, 5vw, 56px); margin:0 0 8px;
      font-weight: 900; letter-spacing:.2px;
      background: linear-gradient(90deg,var(--brand), var(--brand-2) 60%, #fff);
      -webkit-background-clip:text; background-clip:text; color: transparent;
    }
    .subtitle{ color:var(--ink-dim); margin:0 auto; max-width:860px }
    .intro{
      margin:22px auto 28px; max-width:920px; padding:16px 18px;
      border:1px solid #243161; border-radius: 14px;
      background: #0e1530aa;
    }
    .nav{
      display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin: 10px 0 24px;
    }
    .nav a{
      text-decoration:none; color:var(--ink); border:1px solid #2a376a; padding:8px 14px; border-radius:999px;
      background: linear-gradient(180deg,#18234b,#121a38);
      font-weight:600; transition:.2s;
    }
    .nav a:hover{ transform: translateY(-1px); border-color:#41539c }
    .nav a.active{
      background: linear-gradient(180deg,#2943a0,#1b2f78);
      border-color:#5f7df5; box-shadow: 0 6px 20px rgba(120,150,255,.25), inset 0 0 0 1px #7c9cff;
    }
    .viz-card{
      background: var(--panel); border:1px solid #243161; border-radius: 16px;
      padding: 14px; margin: 18px 0 28px; box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .viz-card h2{ margin: 4px 6px 12px; font-size: clamp(18px,2.5vw,26px) }
    .embed{ border-radius: 14px; overflow: hidden; background:#0b122b; border:1px solid #243161; }
    .embed > *{ width:100%; display:block; border:0; }
    .flourish-embed{ width:100%; }

    /* Tabs */
    .tab-panel{ display:none; }
    .tab-panel.active{ display:block; }

    /* Tableau responsive */
    .embed .tableauPlaceholder,
    .embed .tableauPlaceholder object{
      width:100% !important;
      height:80vh !important;   /* ocupa 80% del alto de la ventana */
      min-height:640px;         /* nunca menos que 640px */
    }

    footer{ color:#8fa1cd; text-align:center; margin: 20px 0 40px; font-size: 13px; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Mi año en gastos — historia visual interactiva</h1>
      <p class="subtitle">Cuatro visualizaciones para entender en qué, cuándo y cómo se movió mi plata. Deslizá y explorá.</p>
    </header>

    <div class="intro">
      Esta página resume mis gastos personales del último año con cuatro visualizaciones interactivas.
      Mirá la distribución por categorías, la evolución mensual del pádel y los patrones por días y horarios.
    </div>

    <nav class="nav" id="tab-nav">
      <a href="#rawgraphs">RAWGraphs</a>
      <a href="#flourish">Flourish</a>
      <a href="#datawrapper">Datawrapper</a>
      <a href="#tableau">Tableau</a>
    </nav>

    <!-- RAWGRAPHS -->
    <section id="rawgraphs" class="viz-card tab-panel">
      <h2>¿En qué “destinos” se me va realmente la plata? · <span style="color:#7c9cff">RAWGraphs</span></h2>
      <div class="embed">
        <object data="1tp.svg" type="image/svg+xml"></object>
      </div>
    </section>

    <!-- FLOURISH -->
    <section id="flourish" class="viz-card tab-panel">
      <h2>¿Qué categoría lideró mis gastos mes a mes? · <span style="color:#6ee7b7">Flourish</span></h2>
      <div class="embed">
        <div class="flourish-embed flourish-bar-chart-race" data-src="visualisation/25233000">
          <script src="https://public.flourish.studio/resources/embed.js"></script>
          <noscript><img src="https://public.flourish.studio/visualisation/25233000/thumbnail" width="100%" alt="bar-chart-race visualization" /></noscript>
        </div>
      </div>
    </section>

    <!-- DATAWRAPPER -->
    <section id="datawrapper" class="viz-card tab-panel">
      <h2>¿Cuánto gasté por mes jugando al pádel? · <span style="color:#f59e0b">Datawrapper</span></h2>
      <div class="embed">
        <iframe title="Cuanto gasté jugando al Pádel por mes?" aria-label="Column Chart" id="datawrapper-chart-v1fgM" src="https://datawrapper.dwcdn.net/v1fgM/3/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="426" data-external="1"></iframe>
        <script type="text/javascript">!function(){"use strict";window.addEventListener("message",function(a){if(void 0!==a.data["datawrapper-height"]){var e=document.querySelectorAll("iframe");for(var t in a.data["datawrapper-height"])for(var r,i=0;r=e[i];i++)if(r.contentWindow===a.source){var d=a.data["datawrapper-height"][t]+"px";r.style.height=d}}})}();</script>
      </div>
    </section>

    <!-- TABLEAU -->
    <section id="tableau" class="viz-card tab-panel">
      <h2>¿En qué días y horarios gasto más? · <span style="color:#7c9cff">Tableau</span></h2>
      <div class="embed">
        <div class='tableauPlaceholder' id='viz1758584011347' style='position: relative'><noscript><a href='#'><img alt='Análisis de gastos personales ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;tp&#47;tpinfovis_17584041634440&#47;Anlisisdegastospersonales&#47;1_rss.png' style='border: none' /></a></noscript>
          <object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
            <param name='embed_code_version' value='3' />
            <param name='site_root' value='' />
            <param name='name' value='tpinfovis_17584041634440&#47;Anlisisdegastospersonales' />
            <param name='tabs' value='no' /><param name='toolbar' value='yes' />
            <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;tp&#47;tpinfovis_17584041634440&#47;Anlisisdegastospersonales&#47;1.png' />
            <param name='animate_transition' value='yes' />
            <param name='display_static_image' value='yes' />
            <param name='display_spinner' value='yes' />
            <param name='display_overlay' value='yes' />
            <param name='display_count' value='yes' />
            <param name='language' value='es-ES' />
            <param name='filter' value='publish=yes' />
          </object>
        </div>               
        <script type='text/javascript'>
          var divElement = document.getElementById('viz1758584011347');
          var vizElement = divElement.getElementsByTagName('object')[0];
          vizElement.style.width='1016px';vizElement.style.height='991px';
          var scriptElement = document.createElement('script');
          scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
          vizElement.parentNode.insertBefore(scriptElement, vizElement);
        </script>
      </div>
    </section>
    

    <footer>Visualización de la Información — Octavio Zacagnino — RAWGraphs · Flourish · Datawrapper · Tableau</footer>
  </div>

  <!-- Tabs -->
  <script>
    (function(){
      const tabs = Array.from(document.querySelectorAll('#tab-nav a'));
      const panels = Array.from(document.querySelectorAll('.tab-panel'));
      function showTab(id){
        panels.forEach(p => p.classList.toggle('active', p.id === id));
        tabs.forEach(a => a.classList.toggle('active', a.getAttribute('href') === '#' + id));
      }
      tabs.forEach(a => a.addEventListener('click', e => {
        e.preventDefault();
        const id = a.getAttribute('href').slice(1);
        showTab(id);
        history.replaceState(null, '', '#' + id);
        window.scrollTo({top:0, behavior:'smooth'});
      }));
      const initial = location.hash ? location.hash.slice(1) : (tabs[0]?.getAttribute('href').slice(1));
      showTab(initial || 'rawgraphs');
    })();
  </script>

  <!-- Cargar una sola vez la API de Tableau y ajustar tamaño -->
  <script src="https://public.tableau.com/javascripts/api/viz_v1.js"></script>
  <script>
    function sizeTableau(){
      var ph = document.getElementById('viz1758555182985');
      if(!ph) return;
      var obj = ph.getElementsByTagName('object')[0];
      if(!obj) return;
      obj.style.width = '100%';
      obj.style.height = Math.max(640, Math.round(window.innerHeight * 0.80)) + 'px';
    }
    window.addEventListener('load', sizeTableau);
    window.addEventListener('resize', sizeTableau);
  </script>
</body>
</html>
